<div class="panel-header">
  <h3>Object Detection</h3>
  <button type="button" class="close-btn">Ã—</button>
</div>

<div class="tab-container">
  <div class="tab-buttons">
    <button class="tab-btn active" data-tab="text">Text Prompt</button>
    <button class="tab-btn" data-tab="points">Point Prompt</button>
  </div>
  
  <div class="tab-content">
    <!-- Text Prompt Tab -->
    <div class="tab-pane active" id="text-tab">
      <div class="panel-content">
        <div class="input-group">
          <label for="text-prompt">What do you want to detect (separate by comma)?</label>
          <input type="text" id="text-prompt" placeholder="e.g., poles, trees, buildings ">
        </div>
        
        <div class="input-group">
          <label for="box-threshold">Box Threshold: <span id="box-threshold-value">0.24</span></label>
          <input type="range" id="box-threshold" min="0" max="1" step="0.01" value="0.24">
        </div>

        <div class="input-group">
          <label for="text-threshold">Text Threshold: <span id="text-threshold-value">0.24</span></label>
          <input type="range" id="text-threshold" min="0" max="1" step="0.01" value="0.24">
        </div>

        <div class="input-group">
          <label for="zoom-level">Zoom Level</label>
          <select id="zoom-level"></select>
        </div>

        <div class="instruction">
          <span>Draw a rectangle to start</span>
        </div>
        <div id='sketch_container'></div>

        <div class="input-group">
          <label>Display Options:</label>
          <div class="radio-group">
            <input type="radio" id="display-segments" name="text-display-mode" value="segments" checked>
            <label for="display-segments">Polygons</label>
            
            <input type="radio" id="display-centroids" name="text-display-mode" value="centroids">
            <label for="display-centroids">Centroids</label>
          </div>
        </div>

        <div class="input-group" style="display: flex; align-items: center; gap: 10px;">
          <label for="opacity">Opacity: <span id="opacity-value" name="opacity-value">0.9</span></label>
          <input type="range" id="opacity" name="opacity" min="0" max="1" step="0.1" value="0.9" style="width: 100px;">
        </div>

        <div class="input-group" style="display: flex; align-items: center; gap: 10px;">
          <label for="color-picker">Color:</label>
          <input type="color" id="color-picker" name="color-picker" value="#3333CC">
        </div>

        <button type="button" id="detect-btn" class="detect-button">
          Detect Objects
        </button>

        <button type="button" id="reset-btn" class="reset-button">
          Reset Settings
        </button>
      </div>
    </div>

    <!-- Point Prompt Tab -->
    <div class="tab-pane" id="points-tab">
      <div class="panel-content">
        <div class="input-group">
          <label for="points-box-threshold">Box Threshold: <span id="points-box-threshold-value">0.24</span></label>
          <input type="range" id="points-box-threshold" min="0" max="1" step="0.01" value="0.24">
        </div>

        <div class="input-group">
          <label for="points-zoom-level">Zoom Level:</label>
          <select id="points-zoom-level">
            <option value="19">19</option>
            <option value="20" selected>20</option>
            <option value="21">21</option>
            <option value="22">22</option>
          </select>
        </div>

        <div class="input-group">
          <label>Add points to start:</label>
          <div class="button-group">
            <button id="includeMode" class="mode-button" title="Add Include Points">
              <span class="esri-icon-plus-circled" aria-hidden="true"></span>
            </button>
            <button id="excludeMode" class="mode-button" title="Add Exclude Points">
              <span class="esri-icon-minus-circled" aria-hidden="true"></span>
            </button>
            <button id="deleteMode" class="mode-button" title="Delete Points">
              <span class="esri-icon-trash" aria-hidden="true"></span>
            </button>
          </div>
        </div>

        <div class="input-group">
          <label>Display Options:</label>
          <div class="radio-group">
            <input type="radio" id="points-display-segments" name="points-display-mode" value="segments" checked>
            <label for="points-display-segments">Polygons</label>
            
            <input type="radio" id="points-display-centroids" name="points-display-mode" value="centroids">
            <label for="points-display-centroids">Centroids</label>
          </div>
        </div>

        <div class="input-group" style="display: flex; align-items: center; gap: 10px;">
          <label for="points-opacity">Opacity: <span id="points-opacity-value" name="opacity-value">0.9</span></label>
          <input type="range" id="points-opacity"  name="opacity" min="0" max="1" step="0.1" value="0.9" style="width: 100px;">
        </div>

        <div class="input-group" style="display: flex; align-items: center; gap: 10px;">
          <label for="points-color-picker">Color:</label>
          <input type="color" id="points-color-picker" name="color-picker" value="#3333CC">
        </div>

        <div class="instruction">
          <span>Click on map to add points</span>
        </div>

        <button type="button" id="points-detect-btn" class="detect-button">
          Detect Objects
        </button>

        <button type="button" id="points-reset-btn" class="reset-button">
          Reset Settings
        </button>
      </div>
    </div>
  </div>
</div>