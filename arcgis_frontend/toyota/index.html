<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Address Standardization and Validation</title>
    <link rel="stylesheet" href="https://openlayers.org/en/v6.5.0/css/ol.css" type="text/css">
    <style>
        #map {
            width: 100%;
            height: 400px;
        }
        #info {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Address Standardization and Validation</h1>
    <form id="addressForm">
        <label for="address">Enter Address:</label>
        <input type="text" id="address" name="address">
        <button type="submit">Submit</button>
    </form>
    <div id="info">
        <p>Before Standardization: <span id="beforeAddress"></span></p>
        <p>After Standardization: <span id="afterAddress"></span></p>
        <p>Confidence Score: <span id="confidenceScore"></span></p>
        <p>Summary: <span id="summary"></span></p>
        <p>Parcel Details: <span id="parcelDetails"></span></p>
    </div>
    <div id="map" class="map"></div>
    <script src="https://openlayers.org/en/v6.5.0/build/ol.js"></script>
    <script>
        // Initialize the map
        const map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM()
                })
            ],
            view: new ol.View({
                center: [0, 0],
                zoom: 2
            })
        });

        const parcelSource = new ol.source.Vector({
            loader: function(extent, resolution, projection) {
                const url = 'https://services9.arcgis.com/EZrEnhBIXzBZ042I/arcgis/rest/services/ParcleMap/FeatureServer/0/query?f=json&where=1=1&outFields=*&spatialRel=esriSpatialRelIntersects&geometry=' +
                    encodeURIComponent('{"xmin":' + extent[0] + ',"ymin":' + extent[1] + ',"xmax":' + extent[2] + ',"ymax":' + extent[3] + ',"spatialReference":{"wkid":102100}}') +
                    '&geometryType=esriGeometryEnvelope&inSR=102100&outSR=102100';
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        const features = new ol.format.EsriJSON().readFeatures(data);
                        parcelSource.addFeatures(features);
                    });
            },
            strategy: ol.loadingstrategy.bbox
            });
        const parcelLayer = new ol.layer.Vector({
            source: parcelSource
        });
        map.addLayer(parcelLayer);

        // Handle form submission
        document.getElementById('addressForm').addEventListener('submit', async function (event) {
            event.preventDefault();
            const address = document.getElementById('address').value;

            // Standardize and validate the address
            const result = await standardizeAndValidateAddress(address);

            // Update the info section
            document.getElementById('beforeAddress').textContent = address;
            document.getElementById('afterAddress').textContent = result.standardizedAddress;
            document.getElementById('confidenceScore').textContent = result.confidenceScore;
            document.getElementById('summary').textContent = result.summary.join(', ');

            // Display parcel details if available
            if (result.parcelDetails) {
                document.getElementById('parcelDetails').textContent = JSON.stringify(result.parcelDetails, null, 2);
            } else {
                document.getElementById('parcelDetails').textContent = 'No parcel details available.';
            }

            // Clear existing layers
            map.getLayers().forEach(layer => {
                if (layer instanceof ol.layer.Vector && layer !== parcelLayer) {
                    map.removeLayer(layer);
                }
            });

            // Add the address point to the map
            let addressPoint;
            if (result.lat && result.lon) {
                addressPoint = new ol.Feature({
                    geometry: new ol.geom.Point(ol.proj.fromLonLat([result.lon, result.lat]))
                });
            } else if (result.parcelCentroid) {
                addressPoint = new ol.Feature({
                    geometry: new ol.geom.Point(ol.proj.fromLonLat([result.parcelCentroid.lon, result.parcelCentroid.lat]))
                });
            }

            if (addressPoint) {
                addressPoint.setStyle(new ol.style.Style({
                    image: new ol.style.Icon({
                        src: 'https://openlayers.org/en/v6.5.0/examples/data/icon.png'
                    })
                }));
                const vectorSource = new ol.source.Vector({
                    features: [addressPoint]
                });
                const vectorLayer = new ol.layer.Vector({
                    source: vectorSource
                });
                map.addLayer(vectorLayer);
                map.getView().setCenter(ol.proj.fromLonLat([result.lon || result.parcelCentroid.lon, result.lat || result.parcelCentroid.lat]));
                map.getView().setZoom(15);
            }
            
            if (result.parcelDetails) {
                debugger
                const results = await addBuildingAndTrees(result.parcelDetails);

                results.forEach(async (result) => {
                    displayGeojsonData(result);
                })
            }

        });


        function displayGeojsonData(result) {
            const { label, value, color, geojson } = result.geojson();
            console.log('displaying', label, value, color, geojson);
            if (geojson) {
                // Remove existing layer with same label if exists
                map.layers.items.forEach(layer => {
                    if (layer.title === label) {
                        map.remove(layer);
                    }
                });

                // Create new feature layer
                const featureLayer = new FeatureLayer({
                    source: [], // Start with empty source
                    title: label,
                    objectIdField: "objectid",
                    fields: [
                        {
                            name: "objectid",
                            type: "oid"
                        },
                        {
                            name: "value",
                            type: "string"
                        }
                    ],
                    renderer: {
                        type: "simple",
                        symbol: {
                            type: "simple-fill",
                            color: color || [0, 122, 194, 0.5], // Default blue if color not specified
                            style: "solid",
                            outline: {
                                color: "white",
                                width: 1
                            }
                        }
                    },
                    geometryType: "polygon",
                    popupTemplate: {
                        title: label,
                        content: "{value}"
                    }
                });

                // Add features to the layer
                const features = geojson.features.map((feature, index) => {
                    return {
                        geometry: {
                            type: "polygon",
                            rings: feature.geometry.coordinates[0],
                            spatialReference: { wkid: 4326 }
                        },
                        attributes: {
                            objectid: index + 1,
                            value: feature.properties.value || value || 'Unknown'
                        }
                    };
                });

                // Apply features to layer
                featureLayer.applyEdits({
                    addFeatures: features
                });

                // Add layer to map
                map.add(featureLayer);
            }
        }



        // Function to standardize and validate the address
        async function standardizeAndValidateAddress(address) {
            return {
        "standardizedAddress": "418 BEAR ST, SYRACUSE, NY 13208",
        "lat": 43.0707,
        "lon": -76.1602,
        "confidenceScore": 0.9,
        "summary": [
            "Base Score for Location Match: 0.5",
            "Street Number Match: 0.2",
            "Street Name Match: 0.1",
            "ZIP Code Match: 0.1"
        ],
        "parcelCentroid": {
            "lat": 43.0707,
            "lon": -76.1602
        },
        "parcelDetails": {  "features": [
        {
            "type": "Feature",
            "properties": {
                "address": "418 BEAR ST & CARBON ST",
                "taxId": "31150000200000230070000000",
                "owner": "KING MARK D", 
                "propertyType": "Two Family",
                "yearBuilt": "1890",
                "assessedValue": 59000,
                "landValue": 5700,
                "frontage": 33.0,
                "depth": 74.25,
                "acres": 0.06,
                "zoning": "RA",
                "occupancy": "Rental Occupied"
            },
            "geometry": {
                "type": "Polygon",
                "coordinates": [
                [
                    [
                    -76.14850288077652,
                    43.04693107246425
                    ],
                    [
                    -76.14850288077652,
                    43.046930092391996
                    ],
                    [
                    -76.14850422188103,
                    43.046930092391996
                    ],
                    [
                    -76.14850422188103,
                    43.046928132247444
                    ],
                    [
                    -76.14850556298553,
                    43.046928132247444
                    ],
                    [
                    -76.14850556298553,
                    43.04688402897863
                    ],
                    [
                    -76.14850690409006,
                    43.04688402897863
                    ],
                    [
                    -76.14850690409006,
                    43.04687324817476
                    ],
                    [
                    -76.14850556298553,
                    43.04687324817476
                    ],
                    [
                    -76.14850556298553,
                    43.046871288028406
                    ],
                    [
                    -76.14850690409006,
                    43.046871288028406
                    ],
                    [
                    -76.14850690409006,
                    43.04686932788198
                    ],
                    [
                    -76.14850556298553,
                    43.04686932788198
                    ],
                    [
                    -76.14850556298553,
                    43.046864427515644
                    ],
                    [
                    -76.14850690409006,
                    43.046864427515644
                    ],
                    [
                    -76.14850690409006,
                    43.04684580612001
                    ],
                    [
                    -76.14850556298553,
                    43.04684580612001
                    ],
                    [
                    -76.14850556298553,
                    43.046841885825465
                    ],
                    [
                    -76.14850690409006,
                    43.046841885825465
                    ],
                    [
                    -76.14850690409006,
                    43.04682326442298
                    ],
                    [
                    -76.14850556298553,
                    43.04682326442298
                    ],
                    [
                    -76.14850556298553,
                    43.04682228434901
                    ],
                    [
                    -76.14850690409006,
                    43.04682228434901
                    ],
                    [
                    -76.14850690409006,
                    43.046801702792
                    ],
                    [
                    -76.14850556298553,
                    43.046801702792
                    ],
                    [
                    -76.14850556298553,
                    43.046800722717684
                    ],
                    [
                    -76.14850690409006,
                    43.046800722717684
                    ],
                    [
                    -76.14850690409006,
                    43.046795822345864
                    ],
                    [
                    -76.14850824519456,
                    43.046795822345864
                    ],
                    [
                    -76.14850824519456,
                    43.04679092197366
                    ],
                    [
                    -76.14850690409006,
                    43.04679092197366
                    ],
                    [
                    -76.14850690409006,
                    43.04678994189918
                    ],
                    [
                    -76.14850824519456,
                    43.04678994189918
                    ],
                    [
                    -76.14850824519456,
                    43.04678896182467
                    ],
                    [
                    -76.14850958629906,
                    43.04678896182467
                    ],
                    [
                    -76.14850958629906,
                    43.04678700167562
                    ],
                    [
                    -76.14852031513512,
                    43.04678700167562
                    ],
                    [
                    -76.14852031513512,
                    43.046786021601065
                    ],
                    [
                    -76.14854177280725,
                    43.046786021601065
                    ],
                    [
                    -76.14854177280725,
                    43.046785041526505
                    ],
                    [
                    -76.14855920716585,
                    43.046785041526505
                    ],
                    [
                    -76.14855920716585,
                    43.04678308137732
                    ],
                    [
                    -76.14856054827035,
                    43.04678308137732
                    ],
                    [
                    -76.14856054827035,
                    43.04677916107877
                    ],
                    [
                    -76.14856188937485,
                    43.04677916107877
                    ],
                    [
                    -76.14856188937485,
                    43.046774260705234
                    ],
                    [
                    -76.14856323047937,
                    43.046774260705234
                    ],
                    [
                    -76.14856323047937,
                    43.046765440031876
                    ],
                    [
                    -76.14856188937485,
                    43.046765440031876
                    ],
                    [
                    -76.14856188937485,
                    43.04675171898192
                    ],
                    [
                    -76.14856323047937,
                    43.04675171898192
                    ],
                    [
                    -76.14856323047937,
                    43.046747798681366
                    ],
                    [
                    -76.14856457158388,
                    43.046747798681366
                    ],
                    [
                    -76.14856457158388,
                    43.046746818606195
                    ],
                    [
                    -76.14856591268837,
                    43.046746818606195
                    ],
                    [
                    -76.14856591268837,
                    43.046745838531
                    ],
                    [
                    -76.1485685948974,
                    43.046745838531
                    ],
                    [
                    -76.1485685948974,
                    43.04674485845579
                    ],
                    [
                    -76.1485699360019,
                    43.04674485845579
                    ],
                    [
                    -76.1485699360019,
                    43.04674387838057
                    ],
                    [
                    -76.14857127710641,
                    43.04674387838057
                    ],
                    [
                    -76.14857127710641,
                    43.04674289830533
                    ],
                    [
                    -76.1485726182109,
                    43.04674289830533
                    ],
                    [
                    -76.1485726182109,
                    43.04674191823007
                    ],
                    [
                    -76.14857395931543,
                    43.04674191823007
                    ],
                    [
                    -76.14857395931543,
                    43.04673505770284
                    ],
                    [
                    -76.14857530041992,
                    43.04673505770284
                    ],
                    [
                    -76.14857530041992,
                    43.04670859566206
                    ],
                    [
                    -76.14857664152444,
                    43.04670859566206
                    ],
                    [
                    -76.14857664152444,
                    43.046707615586264
                    ],
                    [
                    -76.14857530041992,
                    43.046707615586264
                    ],
                    [
                    -76.14857530041992,
                    43.04668605391463
                    ],
                    [
                    -76.14857664152444,
                    43.04668605391463
                    ],
                    [
                    -76.14857664152444,
                    43.04668507383846
                    ],
                    [
                    -76.14857530041992,
                    43.04668507383846
                    ],
                    [
                    -76.14857530041992,
                    43.04668115353365
                    ],
                    [
                    -76.14857664152444,
                    43.04668115353365
                    ],
                    [
                    -76.14857664152444,
                    43.0466801734574
                    ],
                    [
                    -76.14857530041992,
                    43.0466801734574
                    ],
                    [
                    -76.14857530041992,
                    43.046664492235415
                    ],
                    [
                    -76.14857664152444,
                    43.046664492235415
                    ],
                    [
                    -76.14857664152444,
                    43.0466635121589
                    ],
                    [
                    -76.14857530041992,
                    43.0466635121589
                    ],
                    [
                    -76.14857530041992,
                    43.04665959185271
                    ],
                    [
                    -76.14857664152444,
                    43.04665959185271
                    ],
                    [
                    -76.14857664152444,
                    43.046656651622904
                    ],
                    [
                    -76.14857530041992,
                    43.046656651622904
                    ],
                    [
                    -76.14857530041992,
                    43.04665567154627
                    ],
                    [
                    -76.14857664152444,
                    43.04665567154627
                    ],
                    [
                    -76.14857664152444,
                    43.04663410985637
                    ],
                    [
                    -76.14857530041992,
                    43.04663410985637
                    ],
                    [
                    -76.14857530041992,
                    43.046614508313525
                    ],
                    [
                    -76.14857395931543,
                    43.046614508313525
                    ],
                    [
                    -76.14857395931543,
                    43.04661156808156
                    ],
                    [
                    -76.1485726182109,
                    43.04661156808156
                    ],
                    [
                    -76.1485726182109,
                    43.0466105880042
                    ],
                    [
                    -76.1485699360019,
                    43.0466105880042
                    ],
                    [
                    -76.1485699360019,
                    43.04660862784945
                    ],
                    [
                    -76.1485685948974,
                    43.04660862784945
                    ],
                    [
                    -76.1485685948974,
                    43.04660764777204
                    ],
                    [
                    -76.14856725379289,
                    43.04660764777204
                    ],
                    [
                    -76.14856725379289,
                    43.04660470753975
                    ],
                    [
                    -76.14856591268837,
                    43.04660470753975
                    ],
                    [
                    -76.14856591268837,
                    43.04658804622074
                    ],
                    [
                    -76.14856457158388,
                    43.04658804622074
                    ],
                    [
                    -76.14856457158388,
                    43.046586086065275
                    ],
                    [
                    -76.14856591268837,
                    43.046586086065275
                    ],
                    [
                    -76.14856591268837,
                    43.04657922552062
                    ],
                    [
                    -76.14856457158388,
                    43.04657922552062
                    ],
                    [
                    -76.14856457158388,
                    43.046576285286946
                    ],
                    [
                    -76.14856323047937,
                    43.046576285286946
                    ],
                    [
                    -76.14856323047937,
                    43.04657432513111
                    ],
                    [
                    -76.14856457158388,
                    43.04657432513111
                    ],
                    [
                    -76.14856457158388,
                    43.046573345053154
                    ],
                    [
                    -76.14856323047937,
                    43.046573345053154
                    ],
                    [
                    -76.14856323047937,
                    43.04657236497519
                    ],
                    [
                    -76.14856188937485,
                    43.04657236497519
                    ],
                    [
                    -76.14856188937485,
                    43.046571384897206
                    ],
                    [
                    -76.14856054827035,
                    43.046571384897206
                    ],
                    [
                    -76.14856054827035,
                    43.04657040481922
                    ],
                    [
                    -76.14855920716585,
                    43.04657040481922
                    ],
                    [
                    -76.14855920716585,
                    43.04656942474121
                    ],
                    [
                    -76.14855786606132,
                    43.04656942474121
                    ],
                    [
                    -76.14855786606132,
                    43.04656844466318
                    ],
                    [
                    -76.14855652495683,
                    43.04656844466318
                    ],
                    [
                    -76.14855652495683,
                    43.04656746458513
                    ],
                    [
                    -76.14855518385231,
                    43.04656746458513
                    ],
                    [
                    -76.14855518385231,
                    43.046566484507075
                    ],
                    [
                    -76.14855250164331,
                    43.046566484507075
                    ],
                    [
                    -76.14855250164331,
                    43.046565504429005
                    ],
                    [
                    -76.14853238507568,
                    43.046565504429005
                    ],
                    [
                    -76.14853238507568,
                    43.046566484507075
                    ],
                    [
                    -76.14852836176217,
                    43.046566484507075
                    ],
                    [
                    -76.14852836176217,
                    43.046565504429005
                    ],
                    [
                    -76.14852433844865,
                    43.046565504429005
                    ],
                    [
                    -76.14852433844865,
                    43.046566484507075
                    ],
                    [
                    -76.14851763292612,
                    43.046566484507075
                    ],
                    [
                    -76.14851763292612,
                    43.046565504429005
                    ],
                    [
                    -76.14851495071709,
                    43.046565504429005
                    ],
                    [
                    -76.14851495071709,
                    43.04654492278583
                    ],
                    [
                    -76.14851360961258,
                    43.04654492278583
                    ],
                    [
                    -76.14851360961258,
                    43.04654100247206
                    ],
                    [
                    -76.14851226850807,
                    43.04654100247206
                    ],
                    [
                    -76.14851226850807,
                    43.04653512200094
                    ],
                    [
                    -76.14851360961258,
                    43.04653512200094
                    ],
                    [
                    -76.14851360961258,
                    43.046523361057005
                    ],
                    [
                    -76.14851226850807,
                    43.046523361057005
                    ],
                    [
                    -76.14851226850807,
                    43.04651160011081
                    ],
                    [
                    -76.14851360961258,
                    43.04651160011081
                    ],
                    [
                    -76.14851360961258,
                    43.046500819241494
                    ],
                    [
                    -76.14851226850807,
                    43.046500819241494
                    ],
                    [
                    -76.14851226850807,
                    43.046488078211674
                    ],
                    [
                    -76.14851360961258,
                    43.046488078211674
                    ],
                    [
                    -76.14851360961258,
                    43.04648023757662
                    ],
                    [
                    -76.14851226850807,
                    43.04648023757662
                    ],
                    [
                    -76.14851226850807,
                    43.046466516462864
                    ],
                    [
                    -76.14851360961258,
                    43.046466516462864
                    ],
                    [
                    -76.14851360961258,
                    43.04645671566544
                    ],
                    [
                    -76.14851226850807,
                    43.04645671566544
                    ],
                    [
                    -76.14851226850807,
                    43.04645279534604
                    ],
                    [
                    -76.14851360961258,
                    43.04645279534604
                    ],
                    [
                    -76.14851360961258,
                    43.04642437302286
                    ],
                    [
                    -76.14851226850807,
                    43.04642437302286
                    ],
                    [
                    -76.14851226850807,
                    43.046423392942515
                    ],
                    [
                    -76.14851092740358,
                    43.046423392942515
                    ],
                    [
                    -76.14851092740358,
                    43.04642241286216
                    ],
                    [
                    -76.14850958629906,
                    43.04642241286216
                    ],
                    [
                    -76.14850958629906,
                    43.04642045270138
                    ],
                    [
                    -76.14850824519456,
                    43.04642045270138
                    ],
                    [
                    -76.14850824519456,
                    43.046408691735465
                    ],
                    [
                    -76.14850690409006,
                    43.046408691735465
                    ],
                    [
                    -76.14850690409006,
                    43.04640477141299
                    ],
                    [
                    -76.14850556298553,
                    43.04640477141299
                    ],
                    [
                    -76.14850556298553,
                    43.04640281125166
                    ],
                    [
                    -76.14850288077652,
                    43.04640281125166
                    ],
                    [
                    -76.14850288077652,
                    43.04640183117097
                    ],
                    [
                    -76.14846935316383,
                    43.04640183117097
                    ],
                    [
                    -76.14846935316383,
                    43.04640085109026
                    ],
                    [
                    -76.1484291200286,
                    43.04640085109026
                    ],
                    [
                    -76.1484291200286,
                    43.04639987100954
                    ],
                    [
                    -76.148409003461,
                    43.04639987100954
                    ],
                    [
                    -76.148409003461,
                    43.04640085109026
                    ],
                    [
                    -76.1483942513114,
                    43.04640085109026
                    ],
                    [
                    -76.1483942513114,
                    43.04639987100954
                    ],
                    [
                    -76.14838218137083,
                    43.04639987100954
                    ],
                    [
                    -76.14838218137083,
                    43.04640085109026
                    ],
                    [
                    -76.14837681695279,
                    43.04640085109026
                    ],
                    [
                    -76.14837681695279,
                    43.04639987100954
                    ],
                    [
                    -76.14837279363928,
                    43.04639987100954
                    ],
                    [
                    -76.14837279363928,
                    43.04640085109026
                    ],
                    [
                    -76.14833792492207,
                    43.04640085109026
                    ],
                    [
                    -76.14833792492207,
                    43.04639987100954
                    ],
                    [
                    -76.14833256050406,
                    43.04639987100954
                    ],
                    [
                    -76.14833256050406,
                    43.04640085109026
                    ],
                    [
                    -76.14831914945897,
                    43.04640085109026
                    ],
                    [
                    -76.14831914945897,
                    43.04639987100954
                    ],
                    [
                    -76.14831244393643,
                    43.04639987100954
                    ],
                    [
                    -76.14831244393643,
                    43.046398890928806
                    ],
                    [
                    -76.14830976172742,
                    43.046398890928806
                    ],
                    [
                    -76.14830976172742,
                    43.04639791084806
                    ],
                    [
                    -76.14830842062291,
                    43.04639791084806
                    ],
                    [
                    -76.14830842062291,
                    43.04639693076729
                    ],
                    [
                    -76.14830037399587,
                    43.04639693076729
                    ],
                    [
                    -76.14830037399587,
                    43.0463959506865
                    ],
                    [
                    -76.14829635068234,
                    43.0463959506865
                    ],
                    [
                    -76.14829635068234,
                    43.04639791084806
                    ],
                    [
                    -76.14829500957784,
                    43.04639791084806
                    ],
                    [
                    -76.14829500957784,
                    43.04639987100954
                    ],
                    [
                    -76.14829366847334,
                    43.04639987100954
                    ],
                    [
                    -76.14829366847334,
                    43.04640085109026
                    ],
                    [
                    -76.14827757521923,
                    43.04640085109026
                    ],
                    [
                    -76.14827757521923,
                    43.04639987100954
                    ],
                    [
                    -76.14826550527867,
                    43.04639987100954
                    ],
                    [
                    -76.14826550527867,
                    43.04640085109026
                    ],
                    [
                    -76.14825611754712,
                    43.04640085109026
                    ],
                    [
                    -76.14825611754712,
                    43.04640183117097
                    ],
                    [
                    -76.14824941202458,
                    43.04640183117097
                    ],
                    [
                    -76.14824941202458,
                    43.04640281125166
                    ],
                    [
                    -76.14824672981555,
                    43.04640281125166
                    ],
                    [
                    -76.14824672981555,
                    43.04640379133233
                    ],
                    [
                    -76.14824538871106,
                    43.04640379133233
                    ],
                    [
                    -76.14824538871106,
                    43.04640281125166
                    ],
                    [
                    -76.14824136539752,
                    43.04640281125166
                    ],
                    [
                    -76.14824136539752,
                    43.04640183117097
                    ],
                    [
                    -76.14823868318851,
                    43.04640183117097
                    ],
                    [
                    -76.14823868318851,
                    43.04639987100954
                    ],
                    [
                    -76.1482333187705,
                    43.04639987100954
                    ],
                    [
                    -76.1482333187705,
                    43.04640085109026
                    ],
                    [
                    -76.14822527214343,
                    43.04640085109026
                    ],
                    [
                    -76.14822527214343,
                    43.04640183117097
                    ],
                    [
                    -76.14822124882991,
                    43.04640183117097
                    ],
                    [
                    -76.14822124882991,
                    43.04639791084806
                    ],
                    [
                    -76.1482199077254,
                    43.04639791084806
                    ],
                    [
                    -76.1482199077254,
                    43.046394970605704
                    ],
                    [
                    -76.1482185666209,
                    43.046394970605704
                    ],
                    [
                    -76.1482185666209,
                    43.0463939905249
                    ],
                    [
                    -76.14821722551639,
                    43.0463939905249
                    ],
                    [
                    -76.14821722551639,
                    43.046394970605704
                    ],
                    [
                    -76.14821454330738,
                    43.046394970605704
                    ],
                    [
                    -76.14821454330738,
                    43.0463959506865
                    ],
                    [
                    -76.14821320220288,
                    43.0463959506865
                    ],
                    [
                    -76.14821320220288,
                    43.04639693076729
                    ],
                    [
                    -76.14820917888936,
                    43.04639693076729
                    ],
                    [
                    -76.14820917888936,
                    43.04639791084806
                    ],
                    [
                    -76.14820783778484,
                    43.04639791084806
                    ],
                    [
                    -76.14820783778484,
                    43.04639693076729
                    ],
                    [
                    -76.14820113226229,
                    43.04639693076729
                    ],
                    [
                    -76.14820113226229,
                    43.046398890928806
                    ],
                    [
                    -76.1481997911578,
                    43.046398890928806
                    ],
                    [
                    -76.1481997911578,
                    43.04639987100954
                    ],
                    [
                    -76.14819710894878,
                    43.04639987100954
                    ],
                    [
                    -76.14819710894878,
                    43.04640085109026
                    ],
                    [
                    -76.14819308563526,
                    43.04640085109026
                    ],
                    [
                    -76.14819308563526,
                    43.04639987100954
                    ],
                    [
                    -76.14819576784429,
                    43.04639987100954
                    ],
                    [
                    -76.14819576784429,
                    43.04639791084806
                    ],
                    [
                    -76.14818638011272,
                    43.04639791084806
                    ],
                    [
                    -76.14818638011272,
                    43.04639693076729
                    ],
                    [
                    -76.14818369790369,
                    43.04639693076729
                    ],
                    [
                    -76.14818369790369,
                    43.04639791084806
                    ],
                    [
                    -76.14818101569469,
                    43.04639791084806
                    ],
                    [
                    -76.14818101569469,
                    43.046398890928806
                    ],
                    [
                    -76.14817833348567,
                    43.046398890928806
                    ],
                    [
                    -76.14817833348567,
                    43.04639791084806
                    ],
                    [
                    -76.14814212366397,
                    43.04639791084806
                    ],
                    [
                    -76.14814212366397,
                    43.046398890928806
                    ],
                    [
                    -76.14814078255945,
                    43.046398890928806
                    ],
                    [
                    -76.14814078255945,
                    43.04639791084806
                    ],
                    [
                    -76.14813541814144,
                    43.04639791084806
                    ],
                    [
                    -76.14813541814144,
                    43.046398890928806
                    ],
                    [
                    -76.1481313948279,
                    43.046398890928806
                    ],
                    [
                    -76.1481313948279,
                    43.04639791084806
                    ],
                    [
                    -76.14810859605127,
                    43.04639791084806
                    ],
                    [
                    -76.14810859605127,
                    43.046398890928806
                    ],
                    [
                    -76.1480951850062,
                    43.046398890928806
                    ],
                    [
                    -76.1480951850062,
                    43.04639987100954
                    ],
                    [
                    -76.1480938439017,
                    43.04639987100954
                    ],
                    [
                    -76.1480938439017,
                    43.046398890928806
                    ],
                    [
                    -76.14806836291604,
                    43.046398890928806
                    ],
                    [
                    -76.14806836291604,
                    43.04639987100954
                    ],
                    [
                    -76.148062998498,
                    43.04639987100954
                    ],
                    [
                    -76.148062998498,
                    43.046398890928806
                    ],
                    [
                    -76.14806031628899,
                    43.046398890928806
                    ],
                    [
                    -76.14806031628899,
                    43.04639987100954
                    ],
                    [
                    -76.14805495187098,
                    43.04639987100954
                    ],
                    [
                    -76.14805495187098,
                    43.046398890928806
                    ],
                    [
                    -76.1480428819304,
                    43.046398890928806
                    ],
                    [
                    -76.1480428819304,
                    43.04639791084806
                    ],
                    [
                    -76.14804154082589,
                    43.04639791084806
                    ],
                    [
                    -76.14804154082589,
                    43.046398890928806
                    ],
                    [
                    -76.14803483530336,
                    43.046398890928806
                    ],
                    [
                    -76.14803483530336,
                    43.04639791084806
                    ],
                    [
                    -76.14803215309433,
                    43.04639791084806
                    ],
                    [
                    -76.14803215309433,
                    43.046398890928806
                    ],
                    [
                    -76.14800935431772,
                    43.046398890928806
                    ],
                    [
                    -76.14800935431772,
                    43.04639791084806
                    ],
                    [
                    -76.14799191995911,
                    43.04639791084806
                    ],
                    [
                    -76.14799191995911,
                    43.046398890928806
                    ],
                    [
                    -76.1479905788546,
                    43.046398890928806
                    ],
                    [
                    -76.1479905788546,
                    43.04639791084806
                    ],
                    [
                    -76.14797850891404,
                    43.04639791084806
                    ],
                    [
                    -76.14797850891404,
                    43.04639693076729
                    ],
                    [
                    -76.14796912118247,
                    43.04639693076729
                    ],
                    [
                    -76.14796912118247,
                    43.0463959506865
                    ],
                    [
                    -76.14796509786895,
                    43.0463959506865
                    ],
                    [
                    -76.14796509786895,
                    43.04639693076729
                    ],
                    [
                    -76.14795839234642,
                    43.04639693076729
                    ],
                    [
                    -76.14795839234642,
                    43.0463959506865
                    ],
                    [
                    -76.14795705124192,
                    43.0463959506865
                    ],
                    [
                    -76.14795705124192,
                    43.04639693076729
                    ],
                    [
                    -76.1479557101374,
                    43.04639693076729
                    ],
                    [
                    -76.1479557101374,
                    43.046398890928806
                    ],
                    [
                    -76.1479543690329,
                    43.046398890928806
                    ],
                    [
                    -76.1479543690329,
                    43.04639987100954
                    ],
                    [
                    -76.1479530279284,
                    43.04639987100954
                    ],
                    [
                    -76.1479530279284,
                    43.04640085109026
                    ],
                    [
                    -76.14794766351035,
                    43.04640085109026
                    ],
                    [
                    -76.14794766351035,
                    43.04640183117097
                    ],
                    [
                    -76.14793425246528,
                    43.04640183117097
                    ],
                    [
                    -76.14793425246528,
                    43.04640085109026
                    ],
                    [
                    -76.14793291136078,
                    43.04640085109026
                    ],
                    [
                    -76.14793291136078,
                    43.04640183117097
                    ],
                    [
                    -76.14792754694274,
                    43.04640183117097
                    ],
                    [
                    -76.14792754694274,
                    43.04640281125166
                    ],
                    [
                    -76.14792486473374,
                    43.04640281125166
                    ],
                    [
                    -76.14792486473374,
                    43.04640477141299
                    ],
                    [
                    -76.14792352362922,
                    43.04640477141299
                    ],
                    [
                    -76.14792352362922,
                    43.04640379133233
                    ],
                    [
                    -76.14792218252471,
                    43.04640379133233
                    ],
                    [
                    -76.14792218252471,
                    43.04640281125166
                    ],
                    [
                    -76.14791681810668,
                    43.04640281125166
                    ],
                    [
                    -76.14791681810668,
                    43.04640379133233
                    ],
                    [
                    -76.14791547700219,
                    43.04640379133233
                    ],
                    [
                    -76.14791547700219,
                    43.04640477141299
                    ],
                    [
                    -76.14791413589766,
                    43.04640477141299
                    ],
                    [
                    -76.14791413589766,
                    43.04640379133233
                    ],
                    [
                    -76.14790877147963,
                    43.04640379133233
                    ],
                    [
                    -76.14790877147963,
                    43.04640575149363
                    ],
                    [
                    -76.1479007248526,
                    43.04640575149363
                    ],
                    [
                    -76.1479007248526,
                    43.04640477141299
                    ],
                    [
                    -76.14789133712104,
                    43.04640477141299
                    ],
                    [
                    -76.14789133712104,
                    43.04640575149363
                    ],
                    [
                    -76.147883290494,
                    43.04640575149363
                    ],
                    [
                    -76.147883290494,
                    43.04640673157426
                    ],
                    [
                    -76.14788060828498,
                    43.04640673157426
                    ],
                    [
                    -76.14788060828498,
                    43.04640575149363
                    ],
                    [
                    -76.14787390276244,
                    43.04640575149363
                    ],
                    [
                    -76.14787390276244,
                    43.04640673157426
                    ],
                    [
                    -76.14786987944892,
                    43.04640673157426
                    ],
                    [
                    -76.14786987944892,
                    43.04640575149363
                    ],
                    [
                    -76.1478658561354,
                    43.04640575149363
                    ],
                    [
                    -76.1478658561354,
                    43.04640673157426
                    ],
                    [
                    -76.14786183282187,
                    43.04640673157426
                    ],
                    [
                    -76.14786183282187,
                    43.04640477141299
                    ],
                    [
                    -76.14786317392638,
                    43.04640477141299
                    ],
                    [
                    -76.14786317392638,
                    43.04640379133233
                    ],
                    [
                    -76.14786183282187,
                    43.04640379133233
                    ],
                    [
                    -76.14786183282187,
                    43.04640281125166
                    ],
                    [
                    -76.14786049171737,
                    43.04640281125166
                    ],
                    [
                    -76.14786049171737,
                    43.04640085109026
                    ],
                    [
                    -76.14785915061286,
                    43.04640085109026
                    ],
                    [
                    -76.14785915061286,
                    43.04639987100954
                    ],
                    [
                    -76.14785646840384,
                    43.04639987100954
                    ],
                    [
                    -76.14785646840384,
                    43.04640085109026
                    ],
                    [
                    -76.14785378619482,
                    43.04640085109026
                    ],
                    [
                    -76.14785378619482,
                    43.04640183117097
                    ],
                    [
                    -76.1478511039858,
                    43.04640183117097
                    ],
                    [
                    -76.1478511039858,
                    43.04640085109026
                    ],
                    [
                    -76.14784573956777,
                    43.04640085109026
                    ],
                    [
                    -76.14784573956777,
                    43.04639791084806
                    ],
                    [
                    -76.14784305735877,
                    43.04639791084806
                    ],
                    [
                    -76.14784305735877,
                    43.04639693076729
                    ],
                    [
                    -76.14784171625426,
                    43.04639693076729
                    ],
                    [
                    -76.14784171625426,
                    43.0463959506865
                    ],
                    [
                    -76.14784037514974,
                    43.0463959506865
                    ],
                    [
                    -76.14784037514974,
                    43.046394970605704
                    ],
                    [
                    -76.14783501073173,
                    43.046394970605704
                    ],
                    [
                    -76.14783501073173,
                    43.0463959506865
                    ],
                    [
                    -76.1478309874182,
                    43.0463959506865
                    ],
                    [
                    -76.1478309874182,
                    43.046394970605704
                    ],
                    [
                    -76.14782964631368,
                    43.046394970605704
                    ],
                    [
                    -76.14782964631368,
                    43.0463959506865
                    ],
                    [
                    -76.14782159968665,
                    43.0463959506865
                    ],
                    [
                    -76.14782159968665,
                    43.046394970605704
                    ],
                    [
                    -76.14781623526862,
                    43.046394970605704
                    ],
                    [
                    -76.14781623526862,
                    43.0463959506865
                    ],
                    [
                    -76.1478148941641,
                    43.0463959506865
                    ],
                    [
                    -76.1478148941641,
                    43.046394970605704
                    ],
                    [
                    -76.14772906347561,
                    43.046394970605704
                    ],
                    [
                    -76.14772906347561,
                    43.0463939905249
                    ],
                    [
                    -76.14766334935474,
                    43.0463939905249
                    ],
                    [
                    -76.14766334935474,
                    43.046394970605704
                    ],
                    [
                    -76.1476579849367,
                    43.046394970605704
                    ],
                    [
                    -76.1476579849367,
                    43.0463959506865
                    ],
                    [
                    -76.1476566438322,
                    43.0463959506865
                    ],
                    [
                    -76.1476566438322,
                    43.04639791084806
                    ],
                    [
                    -76.1476553027277,
                    43.04639791084806
                    ],
                    [
                    -76.1476553027277,
                    43.04640183117097
                    ],
                    [
                    -76.14765396162318,
                    43.04640183117097
                    ],
                    [
                    -76.14765396162318,
                    43.046408691735465
                    ],
                    [
                    -76.14765262051868,
                    43.046408691735465
                    ],
                    [
                    -76.14765262051868,
                    43.04641457221871
                    ],
                    [
                    -76.14765127941416,
                    43.04641457221871
                    ],
                    [
                    -76.14765127941416,
                    43.04641849254055
                    ],
                    [
                    -76.14764993830966,
                    43.04641849254055
                    ],
                    [
                    -76.14764993830966,
                    43.046423392942515
                    ],
                    [
                    -76.14764859720516,
                    43.046423392942515
                    ],
                    [
                    -76.14764859720516,
                    43.046477297338214
                    ],
                    [
                    -76.14764725610064,
                    43.046477297338214
                    ],
                    [
                    -76.14764725610064,
                    43.0464782774177
                    ],
                    [
                    -76.14764859720516,
                    43.0464782774177
                    ],
                    [
                    -76.14764859720516,
                    43.04648905829098
                    ],
                    [
                    -76.14764725610064,
                    43.04648905829098
                    ],
                    [
                    -76.14764725610064,
                    43.04650375947877
                    ],
                    [
                    -76.14764859720516,
                    43.04650375947877
                    ],
                    [
                    -76.14764859720516,
                    43.04651062003186
                    ],
                    [
                    -76.14764725610064,
                    43.04651062003186
                    ],
                    [
                    -76.14764725610064,
                    43.04652826145058
                    ],
                    [
                    -76.14764859720516,
                    43.04652826145058
                    ],
                    [
                    -76.14764859720516,
                    43.04653316184377
                    ],
                    [
                    -76.14764725610064,
                    43.04653316184377
                    ],
                    [
                    -76.14764725610064,
                    43.0465557036474
                    ],
                    [
                    -76.14764591499615,
                    43.0465557036474
                    ],
                    [
                    -76.14764591499615,
                    43.04656256419468
                    ],
                    [
                    -76.14764725610064,
                    43.04656256419468
                    ],
                    [
                    -76.14764725610064,
                    43.04656354427281
                    ],
                    [
                    -76.14764591499615,
                    43.04656354427281
                    ],
                    [
                    -76.14764591499615,
                    43.046571384897206
                    ],
                    [
                    -76.14764725610064,
                    43.046571384897206
                    ],
                    [
                    -76.14764725610064,
                    43.046576285286946
                    ],
                    [
                    -76.14764859720516,
                    43.046576285286946
                    ],
                    [
                    -76.14764859720516,
                    43.046578245442745
                    ],
                    [
                    -76.14764993830966,
                    43.046578245442745
                    ],
                    [
                    -76.14764993830966,
                    43.04658020559847
                    ],
                    [
                    -76.14765127941416,
                    43.04658020559847
                    ],
                    [
                    -76.14765127941416,
                    43.04658216575413
                    ],
                    [
                    -76.14765262051868,
                    43.04658216575413
                    ],
                    [
                    -76.14765262051868,
                    43.04658412590974
                    ],
                    [
                    -76.14765396162318,
                    43.04658412590974
                    ],
                    [
                    -76.14765396162318,
                    43.04658510598751
                    ],
                    [
                    -76.1476553027277,
                    43.04658510598751
                    ],
                    [
                    -76.1476553027277,
                    43.046586086065275
                    ],
                    [
                    -76.14766200825022,
                    43.046586086065275
                    ],
                    [
                    -76.14766200825022,
                    43.04658706614302
                    ],
                    [
                    -76.14766603156376,
                    43.04658706614302
                    ],
                    [
                    -76.14766603156376,
                    43.04658804622074
                    ],
                    [
                    -76.14766737266825,
                    43.04658804622074
                    ],
                    [
                    -76.14766737266825,
                    43.04658902629846
                    ],
                    [
                    -76.14766871377276,
                    43.04658902629846
                    ],
                    [
                    -76.14766871377276,
                    43.04659196653151
                    ],
                    [
                    -76.14767005487728,
                    43.04659196653151
                    ],
                    [
                    -76.14767005487728,
                    43.04665175123957
                    ],
                    [
                    -76.14766871377276,
                    43.04665175123957
                    ],
                    [
                    -76.14766871377276,
                    43.04666841254128
                    ],
                    [
                    -76.14767005487728,
                    43.04666841254128
                    ],
                    [
                    -76.14767005487728,
                    43.046671352770524
                    ],
                    [
                    -76.14766871377276,
                    43.046671352770524
                    ],
                    [
                    -76.14766871377276,
                    43.046673312923275
                    ],
                    [
                    -76.14767005487728,
                    43.046673312923275
                    ],
                    [
                    -76.14767005487728,
                    43.04667723322859
                    ],
                    [
                    -76.14766871377276,
                    43.04667723322859
                    ],
                    [
                    -76.14766871377276,
                    43.04673211747665
                    ],
                    [
                    -76.14766737266825,
                    43.04673211747665
                    ],
                    [
                    -76.14766737266825,
                    43.04673603777821
                    ],
                    [
                    -76.14766603156376,
                    43.04673603777821
                    ],
                    [
                    -76.14766603156376,
                    43.04673799792889
                    ],
                    [
                    -76.14766469045925,
                    43.04673799792889
                    ],
                    [
                    -76.14766469045925,
                    43.0467409381548
                    ],
                    [
                    -76.14766334935474,
                    43.0467409381548
                    ],
                    [
                    -76.14766334935474,
                    43.04674191823007
                    ],
                    [
                    -76.14766200825022,
                    43.04674191823007
                    ],
                    [
                    -76.14766200825022,
                    43.04674289830533
                    ],
                    [
                    -76.14766066714573,
                    43.04674289830533
                    ],
                    [
                    -76.14766066714573,
                    43.046745838531
                    ],
                    [
                    -76.14765932604122,
                    43.046745838531
                    ],
                    [
                    -76.14765932604122,
                    43.04674975883167
                    ],
                    [
                    -76.1476579849367,
                    43.04674975883167
                    ],
                    [
                    -76.1476579849367,
                    43.04675073890681
                    ],
                    [
                    -76.14765396162318,
                    43.04675073890681
                    ],
                    [
                    -76.14765396162318,
                    43.04675465920717
                    ],
                    [
                    -76.14765262051868,
                    43.04675465920717
                    ],
                    [
                    -76.14765262051868,
                    43.046756619357254
                    ],
                    [
                    -76.14765127941416,
                    43.046756619357254
                    ],
                    [
                    -76.14765127941416,
                    43.046758579507284
                    ],
                    [
                    -76.14764993830966,
                    43.046758579507284
                    ],
                    [
                    -76.14764993830966,
                    43.04676053965724
                    ],
                    [
                    -76.14764859720516,
                    43.04676053965724
                    ],
                    [
                    -76.14764859720516,
                    43.04676249980715
                    ],
                    [
                    -76.14764725610064,
                    43.04676249980715
                    ],
                    [
                    -76.14764725610064,
                    43.046765440031876
                    ],
                    [
                    -76.14764591499615,
                    43.046765440031876
                    ],
                    [
                    -76.14764591499615,
                    43.046773280630475
                    ],
                    [
                    -76.14764457389164,
                    43.046773280630475
                    ],
                    [
                    -76.14764457389164,
                    43.046776220854696
                    ],
                    [
                    -76.14764323278713,
                    43.046776220854696
                    ],
                    [
                    -76.14764323278713,
                    43.04678112122808
                    ],
                    [
                    -76.14764457389164,
                    43.04678112122808
                    ],
                    [
                    -76.14764457389164,
                    43.04678210130271
                    ],
                    [
                    -76.14764323278713,
                    43.04678210130271
                    ],
                    [
                    -76.14764323278713,
                    43.046808563311764
                    ],
                    [
                    -76.14764189168262,
                    43.046808563311764
                    ],
                    [
                    -76.14764189168262,
                    43.046812483608434
                    ],
                    [
                    -76.14764323278713,
                    43.046812483608434
                    ],
                    [
                    -76.14764323278713,
                    43.04681934412701
                    ],
                    [
                    -76.14764189168262,
                    43.04681934412701
                    ],
                    [
                    -76.14764189168262,
                    43.046828164792615
                    ],
                    [
                    -76.14764323278713,
                    43.046828164792615
                    ],
                    [
                    -76.14764323278713,
                    43.04684090575179
                    ],
                    [
                    -76.14764189168262,
                    43.04684090575179
                    ],
                    [
                    -76.14764189168262,
                    43.04685854707553
                    ],
                    [
                    -76.14764323278713,
                    43.04685854707553
                    ],
                    [
                    -76.14764323278713,
                    43.04685952714892
                    ],
                    [
                    -76.14764189168262,
                    43.04685952714892
                    ],
                    [
                    -76.14764189168262,
                    43.046867367735494
                    ],
                    [
                    -76.1476405505781,
                    43.046867367735494
                    ],
                    [
                    -76.1476405505781,
                    43.0468703079552
                    ],
                    [
                    -76.14764189168262,
                    43.0468703079552
                    ],
                    [
                    -76.14764189168262,
                    43.046895789853416
                    ],
                    [
                    -76.14764323278713,
                    43.046895789853416
                    ],
                    [
                    -76.14764323278713,
                    43.04690265036267
                    ],
                    [
                    -76.14764457389164,
                    43.04690265036267
                    ],
                    [
                    -76.14764457389164,
                    43.046905590580685
                    ],
                    [
                    -76.14764323278713,
                    43.046905590580685
                    ],
                    [
                    -76.14764323278713,
                    43.04690755072595
                    ],
                    [
                    -76.14764189168262,
                    43.04690755072595
                    ],
                    [
                    -76.14764189168262,
                    43.046908530798554
                    ],
                    [
                    -76.14764323278713,
                    43.046908530798554
                    ],
                    [
                    -76.14764323278713,
                    43.04691931159623
                    ],
                    [
                    -76.14764457389164,
                    43.04691931159623
                    ],
                    [
                    -76.14764457389164,
                    43.04692225181344
                    ],
                    [
                    -76.14764591499615,
                    43.04692225181344
                    ],
                    [
                    -76.14764591499615,
                    43.04692323188581
                    ],
                    [
                    -76.14764859720516,
                    43.04692323188581
                    ],
                    [
                    -76.14764859720516,
                    43.04692421195818
                    ],
                    [
                    -76.14765127941416,
                    43.04692421195818
                    ],
                    [
                    -76.14765127941416,
                    43.046925192030514
                    ],
                    [
                    -76.14765396162318,
                    43.046925192030514
                    ],
                    [
                    -76.14765396162318,
                    43.04692617210284
                    ],
                    [
                    -76.14775186225224,
                    43.04692617210284
                    ],
                    [
                    -76.14775186225224,
                    43.04692715217516
                    ],
                    [
                    -76.14782025858214,
                    43.04692715217516
                    ],
                    [
                    -76.14782025858214,
                    43.04692617210284
                    ],
                    [
                    -76.14782428189565,
                    43.04692617210284
                    ],
                    [
                    -76.14782428189565,
                    43.046925192030514
                    ],
                    [
                    -76.14782696410468,
                    43.046925192030514
                    ],
                    [
                    -76.14782696410468,
                    43.04692323188581
                    ],
                    [
                    -76.14782830520917,
                    43.04692323188581
                    ],
                    [
                    -76.14782830520917,
                    43.046921271741056
                    ],
                    [
                    -76.14782964631368,
                    43.046921271741056
                    ],
                    [
                    -76.14782964631368,
                    43.04691343116137
                    ],
                    [
                    -76.1478309874182,
                    43.04691343116137
                    ],
                    [
                    -76.1478309874182,
                    43.046908530798554
                    ],
                    [
                    -76.1478323285227,
                    43.046908530798554
                    ],
                    [
                    -76.1478323285227,
                    43.04690657065332
                    ],
                    [
                    -76.1478336696272,
                    43.04690657065332
                    ],
                    [
                    -76.1478336696272,
                    43.046905590580685
                    ],
                    [
                    -76.14783903404525,
                    43.046905590580685
                    ],
                    [
                    -76.14783903404525,
                    43.04690461050803
                    ],
                    [
                    -76.14785244509032,
                    43.04690461050803
                    ],
                    [
                    -76.14785244509032,
                    43.046905590580685
                    ],
                    [
                    -76.14785915061286,
                    43.046905590580685
                    ],
                    [
                    -76.14785915061286,
                    43.04690461050803
                    ],
                    [
                    -76.14788865491201,
                    43.04690461050803
                    ],
                    [
                    -76.14788865491201,
                    43.046905590580685
                    ],
                    [
                    -76.1479007248526,
                    43.046905590580685
                    ],
                    [
                    -76.1479007248526,
                    43.04690461050803
                    ],
                    [
                    -76.14790743037513,
                    43.04690461050803
                    ],
                    [
                    -76.14790743037513,
                    43.046905590580685
                    ],
                    [
                    -76.1479543690329,
                    43.046905590580685
                    ],
                    [
                    -76.1479543690329,
                    43.04690657065332
                    ],
                    [
                    -76.14795705124192,
                    43.04690657065332
                    ],
                    [
                    -76.14795705124192,
                    43.04690755072595
                    ],
                    [
                    -76.14795839234642,
                    43.04690755072595
                    ],
                    [
                    -76.14795839234642,
                    43.046908530798554
                    ],
                    [
                    -76.14795973345092,
                    43.046908530798554
                    ],
                    [
                    -76.14795973345092,
                    43.046917351451334
                    ],
                    [
                    -76.14796107455544,
                    43.046917351451334
                    ],
                    [
                    -76.14796107455544,
                    43.04692225181344
                    ],
                    [
                    -76.14796241565993,
                    43.04692225181344
                    ],
                    [
                    -76.14796241565993,
                    43.04692323188581
                    ],
                    [
                    -76.14796375676445,
                    43.04692323188581
                    ],
                    [
                    -76.14796375676445,
                    43.046925192030514
                    ],
                    [
                    -76.14796509786895,
                    43.046925192030514
                    ],
                    [
                    -76.14796509786895,
                    43.04692617210284
                    ],
                    [
                    -76.14796643897346,
                    43.04692617210284
                    ],
                    [
                    -76.14796643897346,
                    43.04692715217516
                    ],
                    [
                    -76.14797046228699,
                    43.04692715217516
                    ],
                    [
                    -76.14797046228699,
                    43.046928132247444
                    ],
                    [
                    -76.14808847948366,
                    43.046928132247444
                    ],
                    [
                    -76.14808847948366,
                    43.04692911231973
                    ],
                    [
                    -76.14809116169268,
                    43.04692911231973
                    ],
                    [
                    -76.14809116169268,
                    43.046928132247444
                    ],
                    [
                    -76.14809652611072,
                    43.046928132247444
                    ],
                    [
                    -76.14809652611072,
                    43.04692911231973
                    ],
                    [
                    -76.14813675924594,
                    43.04692911231973
                    ],
                    [
                    -76.14813675924594,
                    43.046930092391996
                    ],
                    [
                    -76.14813810035044,
                    43.046930092391996
                    ],
                    [
                    -76.14813810035044,
                    43.04692911231973
                    ],
                    [
                    -76.14818101569469,
                    43.04692911231973
                    ],
                    [
                    -76.14818101569469,
                    43.046928132247444
                    ],
                    [
                    -76.14818503900821,
                    43.046928132247444
                    ],
                    [
                    -76.14818503900821,
                    43.04692617210284
                    ],
                    [
                    -76.14818638011272,
                    43.04692617210284
                    ],
                    [
                    -76.14818638011272,
                    43.046925192030514
                    ],
                    [
                    -76.14818772121724,
                    43.046925192030514
                    ],
                    [
                    -76.14818772121724,
                    43.04692225181344
                    ],
                    [
                    -76.14818906232173,
                    43.04692225181344
                    ],
                    [
                    -76.14818906232173,
                    43.046917351451334
                    ],
                    [
                    -76.14819040342624,
                    43.046917351451334
                    ],
                    [
                    -76.14819040342624,
                    43.04690951087115
                    ],
                    [
                    -76.14819174453076,
                    43.04690951087115
                    ],
                    [
                    -76.14819174453076,
                    43.046908530798554
                    ],
                    [
                    -76.14819308563526,
                    43.046908530798554
                    ],
                    [
                    -76.14819308563526,
                    43.04690755072595
                    ],
                    [
                    -76.14820649668033,
                    43.04690755072595
                    ],
                    [
                    -76.14820649668033,
                    43.04690657065332
                    ],
                    [
                    -76.14821051999385,
                    43.04690657065332
                    ],
                    [
                    -76.14821051999385,
                    43.04690755072595
                    ],
                    [
                    -76.1482158844119,
                    43.04690755072595
                    ],
                    [
                    -76.1482158844119,
                    43.04690657065332
                    ],
                    [
                    -76.14822124882991,
                    43.04690657065332
                    ],
                    [
                    -76.14822124882991,
                    43.04690755072595
                    ],
                    [
                    -76.1482225899344,
                    43.04690755072595
                    ],
                    [
                    -76.1482225899344,
                    43.04690657065332
                    ],
                    [
                    -76.14823063656148,
                    43.04690657065332
                    ],
                    [
                    -76.14823063656148,
                    43.04690755072595
                    ],
                    [
                    -76.14823600097951,
                    43.04690755072595
                    ],
                    [
                    -76.14823600097951,
                    43.04690657065332
                    ],
                    [
                    -76.148237342084,
                    43.04690657065332
                    ],
                    [
                    -76.148237342084,
                    43.04690755072595
                    ],
                    [
                    -76.14830707951842,
                    43.04690755072595
                    ],
                    [
                    -76.14830707951842,
                    43.046908530798554
                    ],
                    [
                    -76.14831512614545,
                    43.046908530798554
                    ],
                    [
                    -76.14831512614545,
                    43.04690951087115
                    ],
                    [
                    -76.14831780835446,
                    43.04690951087115
                    ],
                    [
                    -76.14831780835446,
                    43.046912451088836
                    ],
                    [
                    -76.14831914945897,
                    43.046912451088836
                    ],
                    [
                    -76.14831914945897,
                    43.04692225181344
                    ],
                    [
                    -76.14832049056348,
                    43.04692225181344
                    ],
                    [
                    -76.14832049056348,
                    43.04692421195818
                    ],
                    [
                    -76.14832183166799,
                    43.04692421195818
                    ],
                    [
                    -76.14832183166799,
                    43.04692617210284
                    ],
                    [
                    -76.14832317277249,
                    43.04692617210284
                    ],
                    [
                    -76.14832317277249,
                    43.046928132247444
                    ],
                    [
                    -76.14832585498151,
                    43.046928132247444
                    ],
                    [
                    -76.14832585498151,
                    43.04692911231973
                    ],
                    [
                    -76.14833256050406,
                    43.04692911231973
                    ],
                    [
                    -76.14833256050406,
                    43.046930092391996
                    ],
                    [
                    -76.14835401817618,
                    43.046930092391996
                    ],
                    [
                    -76.14835401817618,
                    43.04693107246425
                    ],
                    [
                    -76.14837011143028,
                    43.04693107246425
                    ],
                    [
                    -76.14837011143028,
                    43.046930092391996
                    ],
                    [
                    -76.14845862432777,
                    43.046930092391996
                    ],
                    [
                    -76.14845862432777,
                    43.04693107246425
                    ],
                    [
                    -76.14850288077652,
                    43.04693107246425
                    ]
                ],
                [
                    [
                    -76.14766334935474,
                    43.046746818606195
                    ],
                    [
                    -76.14766200825022,
                    43.046746818606195
                    ],
                    [
                    -76.14766200825022,
                    43.046745838531
                    ],
                    [
                    -76.14766334935474,
                    43.046745838531
                    ],
                    [
                    -76.14766334935474,
                    43.046746818606195
                    ]
                ],
                [
                    [
                    -76.14824270650203,
                    43.04640673157426
                    ],
                    [
                    -76.14824136539752,
                    43.04640673157426
                    ],
                    [
                    -76.14824136539752,
                    43.04640575149363
                    ],
                    [
                    -76.14824270650203,
                    43.04640575149363
                    ],
                    [
                    -76.14824270650203,
                    43.04640673157426
                    ]
                ]
                ]
            }
            }
        ]

            }
        }
            const response = await fetch('/api/standardize_and_validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ address })
            });
            const data = await response.json();
            return data;
        }

        async function addBuildingAndTrees(geojson) {
            //get bounding box of geojson
            const boundingBox = ol.extent.boundingExtent(geojson.features.map(feature => feature.geometry));
            const myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");

            const textPrompts = [{
                label:"building",
                value:"building",
                color:"blue`"
            }, {
                label:"tree",
                value:"tree",
                color:"green"
            }];

            const promises = textPrompts.map((textPrompt) => {
                const requestBody = {
                    "bounding_box": boundingBox,
                    "text_prompt": textPrompt.value,
                    "zoom_level": 22,
                    "box_threshold": 0.40,
                    "text_threshold": 0.25,
                };
                return fetch("http://localhost:8001/api/v1/predict/text", {
                    method: "POST",
                    headers: myHeaders,
                    body: JSON.stringify(requestBody),
                    redirect: "follow"
                });
            })

            const responses = await Promise.all(promises);
            return textPrompts.map(async (textPrompt, index) => {
                let geojson = null;
                if (!responses[index].ok) {
                    console.error("Network response was not ok while sending object detection request.");
                    geojson = null;
                } else {
                    geojson = await responses[index].json();
                }
                return {
                    ...textPrompt,
                    geojson: geojson
                }
            })
        }        
    </script>
</body>
</html>